ТЕХНИЧЕСКОЕ ЗАДАНИЕ
на разработку программного обеспечения для автоматизации прохождения мини-игры «Рыбалка» в онлайн-игре Albion Online
Полное наименование ИС: Информационная система автоматизации прохождения мини-игры «Рыбалка» в Albion Online (далее — ИС АПМ-Р)
Основание для разработки: МДК 03.01 «Внедрение и поддержка компьютерных систем», ПР №1
Основа создания системы: Программная реализация на языке Python с использованием библиотек компьютерного зрения и имитации ввода (OpenCV, PyAutoGUI, NumPy)

1. Назначение и цели создания системы
1.1 Вид автоматизируемой деятельности
Автоматизация прохождения внутриигровой мини-игры «Рыбалка» в Albion Online — процесса, требующего от игрока точного удержания курсора на движущемся индикаторе в заданной зоне при появлении сигнала поклёвки. Мини-игра запускается автоматически после успешного заброса удочки и завершается при успешном или неудачном улове.

1.2 Перечень автоматизируемых процессов
1 Запуск и инициализация
Автоматический запуск игры (если не запущена), активация окна Albion Online, проверка фокуса окна
2 Обнаружение начала мини-игры
Анализ экрана на наличие визуального шаблона мини-игры (круговой индикатор, полоса прогресса, анимация поклёвки)
3 Отслеживание движения индикатора
Использование алгоритмов компьютерного зрения (OpenCV) для определения положения движущегося объекта (цветной кружок) относительно целевой зоны
4 Определение оптимального момента для действия
Анализ скорости движения и положения индикатора для предсказания момента попадания в «зелёную зону»
5 Имитация действия игрока
Автоматическое нажатие левой кнопки мыши в момент попадания индикатора в целевую зону с погрешностью ≤ 0.1 сек
6 Обработка результата
Фиксация исхода: улов получен / улов потерян, запись в журнал
7 Возврат к основному процессу
После завершения мини-игры — возврат к режиму ожидания следующей поклёвки

1.3 Цели внедрения системы
Снизить нагрузку на игрока при выполнении рутинной мини-игры до 90%
Увеличить успешность прохождения мини-игры с 60–70% до 95%+
Создать учебный прототип автоматизации внутриигровых механик, аналогичных автоматизации бизнес-процессов (например, обработка данных в реальном времени, принятие решений на основе визуального анализа)

2. Характеристики объекта автоматизации
2.1 Краткие сведения о предприятии
Предметная область: №5 — Студия разработки компьютерных игр

3. Требования к информационной системе
3.1 Требования к системе в целом
Функциональность
Система должна автоматически запускать, отслеживать и завершать мини-игру без вмешательства пользователя
Надёжность
Успешное прохождение мини-игры — не менее 90% случаев при стабильном рабочем окружении
Точность
Время реакции — не более 100 мс после определения момента действия
Устойчивость
Работает при изменении разрешения экрана (1920x1080, 2560x1440), масштабе UI, освещении в игре
Безопасность
Не модифицирует файлы игры, не использует API-человека, не взаимодействует с памятью игры
Совместимость
Windows 10/11, клиент Albion Online в режиме Windowed Fullscreen
Масштабируемость
Архитектура позволяет адаптировать модуль под другие мини-игры (например, «Сбор руды», «Крафт»)

3.2 Требования к программному обеспечению
Язык: Python 3.10+
Библиотеки: OpenCV, PyAutoGUI, NumPy, Pillow, logging
Формат данных: JSON-логи с метками времени, результатом (улов/провал), координатами, временем реакции
Интерфейс: Консольный (команды: start, stop, status, config)
Документация: README.md, инструкция по установке, описание параметров конфигурации (цвета, размеры зон, пороги чувствительности)
3.3 Требования к техническому обеспечению
ОС
Windows 10/11 (64-bit)
Процессор Intel i5 / AMD Ryzen 5 и выше
Оперативная память 8 ГБ RAM
Видеокарта NVIDIA GTX 1050 / AMD Radeon RX 560 и выше
Разрешение экрана 1920x1080 

Разработал: Корнилов Лев Олегович, Стацюк Дмитрий Игоревич / [ФИО студента]
Проверил: ___________________ / [ФИО преподавателя]
Дата: 18.09.2025
 
Руководство пользователя
Программа автоматизации мини-игры "Рыбалка" в Albion Online
МДК 03.01 Внедрение и поддержка компьютерных систем
Раздел 1. Основные методы внедрения и анализа функционирования программного обеспечения.
ПР №2: Разработка руководства пользователя 
Преподаватель: Веснинов Янис Игоревич
Разработал: Корнилов Лев Олегович, Стацюк Дмитрий Игоревич
________________________________________
1. Назначение программы
Программа "Автоматизация Рыбалки в Albion Online" (далее — АР-АО) предназначена для помощи игрокам в прохождении внутриигровой мини-игры "Рыбалка" в MMORPG Albion Online.
Мини-игра "Рыбалка" требует от игрока точного удержания движущегося индикатора (поплавка) в заданной "зеленой зоне" после появления сигнала поклевки. Программа АР-АО автоматизирует процесс нажатия левой кнопки мыши, имитируя действия игрока для удержания поплавка в зеленой зоне, а также реагируя на "рывки" поплавка, что повышает успешность рыбной ловли и снижает рутинную нагрузку на пользователя.
Цели программы:
•	Автоматизация рутинных действий: Снижение необходимости постоянного внимания игрока к процессу рыбалки.
•	Повышение успешности: Увеличение вероятности успешного улова за счет точной реакции на движение поплавка.
•	Прототип автоматизации: Создание учебного примера для демонстрации автоматизации внутриигровых механик с использованием компьютерного зрения и имитации ввода.
________________________________________
2. Условия выполнения программы
Для корректной работы программы АР-АО необходимо соблюдение следующих условий:
2.1. Требования к программному обеспечению:
•	Операционная система: Windows 10/11 (64-bit).
•	Установленная игра Albion Online.
•	Игра Albion Online должна быть запущена в режиме "Windowed Fullscreen" (Оконный на весь экран) с разрешением 1920x1080.
2.2. Требования к техническому обеспечению:
•	Процессор: Intel i5 / AMD Ryzen 5 и выше.
•	Оперативная память: 8 ГБ RAM.
•	Видеокарта: NVIDIA GTX 1050 / AMD Radeon RX 560 и выше.
2.3. Расположение файлов:
•	Исполняемый файл программы (код программы.py или скомпилированный .exe, если применимо) должен находиться в одной папке с файлом шаблона poplovok.png и poloska.png.
2.4. Режим работы игры:
•	Важно, чтобы окно Albion Online находилось в фокусе и было активно во время работы программы.
________________________________________
3. Действия при запуске программы
Для запуска и начала работы с программой АР-АО необходимо выполнить следующие шаги:
3.1. Подготовка файлов:
Убедитесь, что исполняемый файл программы (например, fishing_bot.py или код программы.py) и файл изображения-шаблона poplovok.png находятся в одной папке.
3.2. Запуск программы:
1.	Запустите exe файл
3.3. Активация рыбалки в игре:
1.	Переключитесь на окно игры Albion Online.
2.	Начните процесс рыбалки обычным способом (забросьте удочку).
3.	Как только появится индикатор мини-игры "Рыбалка" (движущийся поплавок и зеленая зона), программа АР-АО автоматически начнет отслеживать его и имитировать нажатия мыши.
3.5. Остановка программы:
Для остановки программы в любой момент, переключитесь обратно в окно командной строки и нажмите комбинацию клавиш Ctrl + C.
Программа выведет сообщение Программа остановлена пользователем. и завершит работу.
4. Последовательность всех операций по работе с программой на конкретном примере
Рассмотрим пример работы.
Пример сценария: Пользователь хочет автоматизировать рыбалку в Albion Online.
Шаг 1: Подготовка среды.
1.	Разместите файл программы (exe) и шаблон poplovok.png в одной папке (например, C:\AlbionBot).
2.	Запустите Albion Online в режиме "Windowed Fullscreen" с разрешением 1920x1080.
Шаг 2: Запуск программы.
1.	Откройте командную строку и перейдите в папку с программой:
cd C:\AlbionBot
2.	Запустите программу: 
Консоль покажет: Запуск программы... Нажмите Ctrl+C для остановки.
Шаг 3: Начало рыбалки в игре.
1.	Переключитесь на окно Albion Online.
2.	Найдите водоем и начните рыбачить, забросив удочку.
3.	Через некоторое время появится индикатор мини-игры "Рыбалка" с движущимся поплавком.
Шаг 4: Автоматическая реакция программы.
Программа АР-АО начнет сканировать область экрана (monitor) на наличие шаблона poplovok.png.
•	Если поплавок обнаружен (как, где плавок находится в зеленой зоне):
o	Программа определит его горизонтальную координату x_abs.
o	В зависимости от x_abs, программа выберет соответствующую длительность hold_duration (например, если x_abs между 860 и 930, то hold_duration = 2.8 секунды).
o	АР-АО имитирует нажатие левой кнопки мыши (pyautogui.mouseDown()) на это время, пытаясь удержать поплавок.
•	Отслеживание "рывка":
o	Программа постоянно записывает последние две координаты x_abs поплавка раз в секунду.
o	Если обнаруживается, что старая координата x1 была меньше 1010, а текущая x2 резко изменилась влево (разница x1 - x2 больше или равна 100 пикселей), программа воспринимает это как "рывок".
o	При "рывке" АР-АО имитирует нажатие левой кнопки мыши на 4 секунды (pyautogui.mouseDown() -> time.sleep(4.0) -> pyautogui.mouseUp()), и сбрасывает историю координат, чтобы не было повторного срабатывания на тот же рывок. В консоль будет выведено сообщение.
Шаг 5: Продолжение и завершение.
Программа будет продолжать эти действия до тех пор, пока мини-игра не завершится (улов получен или потерян) или пока пользователь не остановит программу.
Шаг 6: Остановка программы.
Когда рыбалка завершена или пользователь хочет прекратить автоматизацию, переключитесь обратно в командную строку и нажмите Ctrl + C.
Программа выведет сообщение Программа остановлена пользователем и завершит работу.

